import{B as k}from"./index-20432540.js";import{M as I,_ as w}from"./关闭-07a4db5f.js";import{_ as b}from"./index-df906824.js";import{_ as C}from"./index-8e434ec2.js";import"./index-4917c236.js";import{U as _,F as S,I as B,_ as D}from"./user-33ed915c.js";import{_ as O,o as h,b as f,d as r,e as t,w as l,f as u,J as g,M as P,L as T,D as G,E as M}from"./index-ff77ca57.js";import"./Overflow-feb0de69.js";import"./LeftOutlined-bb68b96b.js";const R={data(){return{modalTitle:"",open:!1,currentUE:{},selectedRows:[],selectedRowKeys:[],data:[],columns:[{title:"序号",dataIndex:"index",key:"index"},{title:"UE工程名称",dataIndex:"name",key:"name"},{title:"UE路径",dataIndex:"path",key:"path"},{title:"预加载",dataIndex:"preload",key:"preload"},{title:"GPU显存(G)",dataIndex:"gpumemory",key:"gpumemory"},{title:"UE工程标识",dataIndex:"urlprefix",key:"urlprefix"},{title:"附加参数",dataIndex:"param",key:"param"},{title:"操作",dataIndex:"operation",key:"operation"}],rowSelection:{onChange:(a,e)=>{this.selectedRows=e,this.selectedRowKeys=a}}}},methods:{OpenAddUE(){this.open=!0,this.modalTitle="UE工程添加",this.currentUE={}},DeleteMulti(){this.data=this.data.filter(a=>this.selectedRowKeys.includes(a.index)==!1),_.UpdateUEProgramInfo({ueprogram:this.data}).then(a=>{})},QueryInfo(a){this.open=!0,this.modalTitle="UE工程详情",this.currentUE=this.data.find(e=>e.index==a)},handleOk(){console.log(this.data),this.modalTitle=="UE工程添加"&&(this.currentUE.index=this.data.length+1,this.data.push(this.currentUE)),_.UpdateUEProgramInfo({ueprogram:this.data}).then(a=>{console.log(a)}),this.open=!1},handleCancel(){this.open=!1},DeleteSingle(a){var e=this.data.findIndex(p=>p.index==a);e>-1&&(this.data.splice(e,1),_.UpdateUEProgramInfo({ueprogram:this.data}).then(p=>{}))}},mounted(){_.GetUEProgramInfo().then(a=>{console.log(a.data.ueprogram),this.data=a.data.ueprogram,this.data.forEach((e,p)=>{e.index=p+1}),console.log(this.data)})}},K=a=>(G("data-v-00229aa1"),a=a(),M(),a),N={style:{height:"100%"}},V={class:"top",style:{display:"flex",height:"100px",width:"100%","background-color":"#1B1B1B"}},F={style:{width:"60%","padding-top":"30px"}},z={style:{"padding-top":"30px"}},A={class:"content",style:{"background-color":"#1B1B1B","margin-top":"30px","padding-top":"30px","padding-left":"40px",height:"calc(100% - 130px)"}},Q=["onClick"],J=["onClick"],L=K(()=>r("img",{src:w,alt:"Close"},null,-1));function j(a,e,p,q,o,s){const d=B,i=D,x=S,c=k,y=C,U=b,E=I;return h(),f("div",N,[r("div",V,[r("div",F,[t(x,{"label-col":{span:14},layout:"horizontal","wrapper-col":{span:10},style:{color:"white",width:"100%",display:"flex"}},{default:l(()=>[t(i,{label:"UE工程名称"},{default:l(()=>[t(d)]),_:1})]),_:1})]),r("div",z,[t(c,{type:"primary"},{default:l(()=>[u(" 查询")]),_:1}),t(c,{type:"primary",ghost:"",style:{"margin-left":"10px"}},{default:l(()=>[u(" 重置")]),_:1})])]),r("div",A,[t(c,{onClick:s.OpenAddUE,type:"primary"},{default:l(()=>[u(" 新增")]),_:1},8,["onClick"]),t(c,{onClick:s.DeleteMulti,type:"primary",ghost:"",style:{"margin-left":"10px"}},{default:l(()=>[u(" 删除")]),_:1},8,["onClick"]),t(y,{style:{height:"100%","margin-top":"20px"},columns:o.columns,dataSource:o.data,rowSelection:o.rowSelection,rowKey:"index",pagination:{pageSize:5}},{bodyCell:l(({column:n,record:m})=>[n.dataIndex=="preload"?(h(),f(g,{key:0},[u(P(m.preload==!0?"是":"否"),1)],64)):n.dataIndex=="operation"?(h(),f(g,{key:1},[r("a",{onClick:v=>s.QueryInfo(m.index)},"编辑",8,Q),r("a",{onClick:v=>s.DeleteSingle(m.index),style:{"margin-left":"8px"}},"删除",8,J)],64)):T("",!0)]),_:1},8,["columns","dataSource","rowSelection"])]),t(E,{visible:o.open,"onUpdate:visible":e[6]||(e[6]=n=>o.open=n),mask:"",onOk:s.handleOk,onCancel:s.handleCancel,title:o.modalTitle},{closeIcon:l(()=>[L]),default:l(()=>[t(x,{"label-col":{span:6},"wrapper-col":{span:12}},{default:l(()=>[t(i,{label:"UE工程名称"},{default:l(()=>[t(d,{value:o.currentUE.name,"onUpdate:value":e[0]||(e[0]=n=>o.currentUE.name=n)},null,8,["value"])]),_:1}),t(i,{label:"UE路径"},{default:l(()=>[t(d,{value:o.currentUE.path,"onUpdate:value":e[1]||(e[1]=n=>o.currentUE.path=n)},null,8,["value"])]),_:1}),t(i,{label:"预加载"},{default:l(()=>[t(U,{checked:o.currentUE.preload,"onUpdate:checked":e[2]||(e[2]=n=>o.currentUE.preload=n)},null,8,["checked"])]),_:1}),t(i,{label:"GPU显存(G)"},{default:l(()=>[t(d,{value:o.currentUE.gpumemory,"onUpdate:value":e[3]||(e[3]=n=>o.currentUE.gpumemory=n)},null,8,["value"])]),_:1}),t(i,{label:"UE工程标识"},{default:l(()=>[t(d,{value:o.currentUE.urlprefix,"onUpdate:value":e[4]||(e[4]=n=>o.currentUE.urlprefix=n)},null,8,["value"])]),_:1}),t(i,{label:"附加参数"},{default:l(()=>[t(d,{value:o.currentUE.param,"onUpdate:value":e[5]||(e[5]=n=>o.currentUE.param=n)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["visible","onOk","onCancel","title"])])}const oe=O(R,[["render",j],["__scopeId","data-v-00229aa1"]]);export{oe as default};
